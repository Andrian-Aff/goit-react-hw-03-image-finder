(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{17:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1Msiq",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__2Pd04"}},18:function(e,t,a){e.exports={Button:"Button_Button__AAjqN"}},19:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3K96M",Modal:"Modal_Modal__Sm9OA"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1Z_8N"}},31:function(e,t,a){},32:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),c=a.n(o),l=(a(31),a(3)),s=a(4),u=a(6),i=a(5),h=(a(32),a(11)),m=(a(33),a(8)),d=a.n(m),p=a(1),b=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={queryValue:""},e.handleRequestChange=function(t){e.setState({queryValue:t.currentTarget.value.toLowerCase()})},e.handleOnSubmit=function(t){if(t.preventDefault(),""===e.state.queryValue.trim())return Object(h.b)("Input your request");e.props.onSubmit(e.state.queryValue),e.setState({queryValue:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(p.jsx)("header",{className:d.a.Searchbar,children:Object(p.jsxs)("form",{className:d.a.SearchForm,onSubmit:this.handleOnSubmit,children:[Object(p.jsx)("button",{type:"submit",className:d.a.SearchForm__button,children:Object(p.jsx)("span",{className:d.a.SearchForm__button__label,children:"Search"})}),Object(p.jsx)("input",{className:d.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,value:this.state.queryValue,placeholder:"Search images and photos",onChange:this.handleRequestChange})]})})}}]),a}(r.Component),j=b,g=a(20),_=a(24),f=a.n(_),y=a(25),O=a.n(y),v=function(){return Object(p.jsx)(O.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})},S=a(17),x=a.n(S);function w(e){var t=e.onToggle,a=e.pictures;return Object(p.jsx)(p.Fragment,{children:a.map((function(e){return Object(p.jsx)("li",{onClick:t,className:x.a.ImageGalleryItem,children:Object(p.jsx)("img",{src:e.webformatURL,alt:e.tags[0],className:x.a.ImageGalleryItem__image,largeimage:e.largeImageURL})},e.id)}))})}var I=a(18),k=a.n(I),q=a(26),C=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).scroll=function(){e.props.onLoadMore(),console.log(e.props.onLoadMore),q.animateScroll.scrollToBottom()},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(p.jsx)("button",{onClick:this.scroll,className:k.a.Button,type:"button",children:Object(p.jsx)("span",{className:k.a.Button__label,children:"Load more"})})}}]),a}(r.Component),M=C;var F={fetchPictures:function(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23041177-0c0b450b7629b324f32016842","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("nothing found for the your request ".concat(e)))}))}},N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={pictures:[],error:null,status:"idle",page:1},e.renderPictures=function(t){var a=e.state.page;F.fetchPictures(t,a).then((function(t){return e.setState((function(e){return{pictures:[].concat(Object(g.a)(e.pictures),Object(g.a)(t.hits)),status:"resolved",page:e.page+1}}))})).catch((function(t){return e.setState({error:t,status:"rejected"})}))},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=e.queryValue,r=this.props.queryValue;a!==r&&(this.setState({status:"pending"}),this.renderPictures(r))}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.error,r=e.status,n=this.props.onOpen;return"idle"===r?Object(p.jsx)("p",{children:"Input your query"}):"pending"===r?Object(p.jsx)(v,{}):"rejected"===r?Object(p.jsxs)("p",{children:["Whoops, something went wrong: ",a.message]}):"resolved"===r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ul",{className:f.a.ImageGallery,children:Object(p.jsx)(w,{pictures:t,onToggle:n})}),Object(p.jsx)(M,{onLoadMore:this.renderPictures})]}):void 0}}]),a}(r.PureComponent),B=a(19),G=a.n(B),V=document.querySelector("#modal-root"),L=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(p.jsx)("div",{className:G.a.Overlay,onClick:this.handleBackdropClick,children:Object(p.jsx)("div",{className:G.a.Modal,children:this.props.children})}),V)}}]),a}(r.Component),P=L,A=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={queryValue:"",showModal:!1,largeimage:null},e.handleSearchOnSubmit=function(t){e.setState({queryValue:t})},e.takeLargePicture=function(t){t.target&&(e.setState({largeimage:t.target.attributes.largeimage.value}),e.toggleModal())},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.queryValue,a=e.showModal,r=e.largeimage;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(j,{onSubmit:this.handleSearchOnSubmit}),Object(p.jsx)(h.a,{autoClose:3e3}),Object(p.jsx)(N,{queryValue:t,onOpen:this.takeLargePicture}),a&&Object(p.jsx)(P,{onClose:this.toggleModal,children:Object(p.jsx)("img",{src:r,alt:t})})]})}}]),a}(r.PureComponent),D=A;c.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__zUh9K",SearchForm:"SearchBar_SearchForm__36KZq",SearchForm__input:"SearchBar_SearchForm__input__3SaG-",SearchForm__button:"SearchBar_SearchForm__button__2OE_K",SearchForm__button__label:"SearchBar_SearchForm__button__label__LVahJ"}}},[[63,1,2]]]);
//# sourceMappingURL=main.aee5a986.chunk.js.map