(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{17:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1Msiq",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__2Pd04"}},18:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3K96M",Modal:"Modal_Modal__Sm9OA"}},19:function(e,t,a){e.exports={Button:"Button_Button__AAjqN"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1Z_8N"}},31:function(e,t,a){},32:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),s=(a(31),a(20)),l=a(3),u=a(4),i=a(6),h=a(5),m=(a(32),a(11)),d=(a(33),a(8)),p=a.n(d),j=a(1),b=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={queryValue:""},e.handleRequestChange=function(t){e.setState({queryValue:t.currentTarget.value.toLowerCase()})},e.handleOnSubmit=function(t){if(t.preventDefault(),""===e.state.queryValue.trim())return Object(m.b)("Input your request");e.props.onSubmit(e.state.queryValue),e.setState({queryValue:""})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(j.jsx)("header",{className:p.a.Searchbar,children:Object(j.jsxs)("form",{className:p.a.SearchForm,onSubmit:this.handleOnSubmit,children:[Object(j.jsx)("button",{type:"submit",className:p.a.SearchForm__button,children:Object(j.jsx)("span",{className:p.a.SearchForm__button__label,children:"Search"})}),Object(j.jsx)("input",{className:p.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,value:this.state.queryValue,placeholder:"Search images and photos",onChange:this.handleRequestChange})]})})}}]),a}(r.Component),_=b,g=a(24),f=a.n(g),y=a(17),O=a.n(y),v=a(18),S=a.n(v),x=document.querySelector("#modal-root"),w=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt;return Object(c.createPortal)(Object(j.jsx)("div",{className:S.a.Overlay,onClick:this.handleBackdropClick,children:Object(j.jsx)("div",{className:S.a.Modal,children:Object(j.jsx)("img",{src:t,alt:a})})}),x)}}]),a}(r.Component),I=w,k=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt,r=e.largeImageUrl,n=this.state.showModal;return Object(j.jsxs)("li",{className:O.a.ImageGalleryItem,children:[Object(j.jsx)("img",{onClick:this.toggleModal,src:t,alt:a,className:O.a.ImageGalleryItemImage}),n&&Object(j.jsx)(I,{onClose:this.toggleModal,src:r,alt:a})]})}}]),a}(r.PureComponent),q=k;function C(e){var t=e.pictures;return Object(j.jsx)("ul",{className:f.a.ImageGallery,children:t.map((function(e){return Object(j.jsx)(q,{src:e.webformatURL,alt:e.tags,largeImageUrl:e.largeImageURL},e.id)}))})}var M=a(25),N=a.n(M),B=function(){return Object(j.jsx)(N.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})},F=a(19),G=a.n(F),V=a(26),P=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).scroll=function(){e.props.onLoadMore(),V.animateScroll.scrollToBottom()},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(j.jsx)("button",{onClick:this.scroll,className:G.a.Button,type:"button",children:Object(j.jsx)("span",{className:G.a.Button__label,children:"Load more"})})}}]),a}(r.Component),A=P;var L={fetchPictures:function(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23041177-0c0b450b7629b324f32016842","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("Nothing found for the your request ".concat(e)))}))}},D=function(e){var t=e.message;return Object(j.jsx)("div",{role:"alert",children:Object(j.jsxs)("p",{children:["Whoops, something went wrong. Error: ",t]})})},E=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={error:null,queryValue:"",pictures:[],page:1,status:"idle"},e.handleSearchOnSubmit=function(t){e.setState({queryValue:t,page:1,pictures:[]})},e.renderPictures=function(){var t=e.state,a=t.page,r=t.queryValue;L.fetchPictures(r,a).then((function(t){return e.setState((function(e){return{pictures:[].concat(Object(s.a)(e.pictures),Object(s.a)(t.hits)),page:e.page+1,status:"resolved"}}))})).catch((function(t){return e.setState({error:t,status:"rejected"})}))},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.queryValue!==this.state.queryValue&&(this.setState({status:"pending"}),this.renderPictures())}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.error,r=e.status;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(_,{onSubmit:this.handleSearchOnSubmit}),Object(j.jsx)(m.a,{autoClose:3e3}),"idle"===r&&Object(j.jsx)("p",{className:"welcomeText",children:"Input your query"}),"pending"===r&&Object(j.jsx)(B,{}),"rejected"===r&&Object(j.jsx)(D,{message:a.message}),"resolved"===r&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(C,{pictures:t}),Object(j.jsx)(A,{onLoadMore:this.renderPictures})]})]})}}]),a}(r.PureComponent),K=E;o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(K,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__zUh9K",SearchForm:"SearchBar_SearchForm__36KZq",SearchForm__input:"SearchBar_SearchForm__input__3SaG-",SearchForm__button:"SearchBar_SearchForm__button__2OE_K",SearchForm__button__label:"SearchBar_SearchForm__button__label__LVahJ"}}},[[63,1,2]]]);
//# sourceMappingURL=main.ff7357bb.chunk.js.map