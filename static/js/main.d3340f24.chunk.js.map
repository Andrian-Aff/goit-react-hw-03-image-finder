{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/SearchBar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/pixabayApi.js","components/Error/Error.js","App.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","queryValue","handleRequestChange","e","setState","currentTarget","value","toLowerCase","handleOnSubmit","evt","preventDefault","trim","toast","props","onSubmit","className","s","Searchbar","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","src","alt","createPortal","Overlay","onClick","ImageGalleryItem","showModal","takeLargePicture","largeimage","attributes","toggleModal","largeImageUrl","ImageGalleryItemImage","PureComponent","ImageGallery","pictures","map","picture","webformatURL","tags","largeImageURL","id","LoaderPend","color","height","width","Button","scroll","onLoadMore","scrollToBottom","Button__label","api","fetchPictures","page","url","fetch","then","response","ok","json","Promise","reject","Error","message","role","App","error","status","handleSearchOnSubmit","renderPictures","pixabayApi","prevState","hits","catch","prevProps","autoClose","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d3340f24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Msiq\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2Pd04\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3K96M\",\"Modal\":\"Modal_Modal__Sm9OA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__AAjqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1Z_8N\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\nstate = {\r\n    queryValue: '',\r\n}\r\n\r\nhandleRequestChange= e => {\r\n    this.setState({queryValue: e.currentTarget.value.toLowerCase()});\r\n};\r\n\r\nhandleOnSubmit = evt => {\r\n    evt.preventDefault();\r\n    if(this.state.queryValue.trim()==='') {\r\n        return toast('Input your request');\r\n        \r\n    }\r\n    this.props.onSubmit(this.state.queryValue);\r\n    this.setState({queryValue: ''});\r\n}\r\n\r\nrender() {\r\n    return(\r\n        <header className={s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit={this.handleOnSubmit}>\r\n                <button type=\"submit\" className={s.SearchForm__button}>\r\n                    <span className={s.SearchForm__button__label}>Search</span>\r\n                </button>\r\n                <input\r\n                className={s.SearchForm__input}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                value={this.state.queryValue}\r\n                placeholder=\"Search images and photos\"\r\n                onChange={this.handleRequestChange}\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\n}\r\n\r\nexport default SearchBar;","import s from './Modal.module.css';\r\nimport React, {Component} from 'react';\r\nimport {createPortal} from 'react-dom'\r\n\r\nconst modalRoot = document.querySelector('#modal-root') \r\n\r\n class Modal extends Component {\r\n     \r\ncomponentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown)\r\n};\r\n\r\ncomponentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n};\r\n\r\nhandleKeyDown = e => {\r\nif(e.code === 'Escape'){\r\n this.props.onClose()\r\n}\r\n}\r\n\r\nhandleBackdropClick = e => {\r\n    if(e.currentTarget === e.target) {\r\n        this.props.onClose()\r\n    }\r\n}\r\nrender() {\r\n    const { src, alt } = this.props;\r\n    \r\n    return createPortal(\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={s.Modal}>\r\n                <img src={src} alt={alt} />\r\n            </div>\r\n        </div>, \r\n        modalRoot,\r\n    )\r\n}\r\n}\r\n\r\nexport default Modal","import s from './ImageGalleryItem.module.css'\r\nimport React, { PureComponent } from 'react'\r\nimport Modal from '../Modal'\r\n\r\nclass ImageGalleryItem extends PureComponent {\r\n  state= {\r\n    showModal: false,\r\n  }\r\n\r\n  takeLargePicture = e => {\r\n    if (!e.target) {\r\n      return;\r\n    } else {\r\n      this.setState({\r\n        largeimage: e.target.attributes['largeimage'].value\r\n      });\r\n    }\r\n    this.toggleModal();\r\n  };\r\n  \r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n  \r\n\r\n  render() {\r\n    const { src, alt, largeImageUrl } = this.props;\r\n    const { showModal } = this.state;\r\n    return (\r\n      <li className={s.ImageGalleryItem}>\r\n      <img\r\n        onClick={this.toggleModal}\r\n        src={src}\r\n        alt={alt}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n      {showModal && (\r\n        <Modal onClose={this.toggleModal} src={largeImageUrl} alt={alt} />\r\n      )}\r\n      </li>\r\n      //     {/* <>\r\n      //   {pictures.map(picture => {\r\n      //     return (\r\n      //       <li key={picture.id} onClick={onToggle} className={s.ImageGalleryItem} >\r\n      //         <img\r\n      //           src={picture.webformatURL}\r\n      //           alt={picture.tags[0]}\r\n      //           className={s.ImageGalleryItem__image}\r\n      //           largeimage={picture.largeImageURL}\r\n      //         />\r\n      //       </li>\r\n      //     );\r\n      //   })}\r\n      // </> */}\r\n  \r\n    );\r\n  };\r\n}\r\n\r\nexport default ImageGalleryItem\r\n  ","import s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\n\r\nexport default function ImageGallery({pictures}) {\r\n\r\n    return(\r\n        <ul className={s.ImageGallery}>\r\n            {pictures.map((picture) => (\r\n                <ImageGalleryItem\r\n                key={picture.id}\r\n                src={picture.webformatURL}\r\n                alt={picture.tags}\r\n                largeImageUrl={()=>picture.largeImageURL()}\r\n                />\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nconst LoaderPend = () => {\r\nreturn (\r\n    <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n  )\r\n}\r\n\r\nexport default LoaderPend\r\n\r\n","import s from './Button.module.css'\r\nimport React, { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Button extends Component {\r\n\r\n  static propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n  };\r\n\r\n  scroll = () => {\r\n    this.props.onLoadMore();\r\n    scroll.scrollToBottom();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button onClick={this.scroll} className={s.Button} type=\"button\">\r\n        <span className={s.Button__label}>Load more</span>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","const API_KEY = '23041177-0c0b450b7629b324f32016842';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nfunction fetchPictures(value, page) {\r\n  const url = `${BASE_URL}?q=${value}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  return fetch(url)\r\n  .then(response => {\r\n    // if(response)\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  return Promise.reject(\r\n    new Error(`Nothing found for the your request ${value}`)\r\n    );\r\n  });\r\n}\r\n\r\nconst api = { fetchPictures };\r\nexport default api \r\n","import PropTypes from 'prop-types'\r\n\r\nconst Error = ({message}) => {\r\n    return (\r\n        <div role=\"alert\">\r\n          <p>Whoops, something went wrong. Error: {message}</p>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    Error.propTypes = {\r\n      message: PropTypes.string.isRequired,\r\n    };\r\n\r\n    export default Error","import './App.css';\nimport React, {PureComponent } from 'react'\nimport { ToastContainer } from 'react-toastify';\nimport SearchBar from './components/Searchbar'\nimport ImageGallery from './components/ImageGallery'\n// import Modal from './components/Modal'\nimport LoaderPend from \"./components/Loader\";\nimport Button from './components/Button'\nimport pixabayApi from './components/pixabayApi';\nimport Error from './components/Error'\n\n\nclass App extends PureComponent {\nstate= {\n  error: null,\n  queryValue: '',\n  pictures:[],\n  page:1,\n  status: 'idle'\n}\n// shouldComponentUpdate(nextProps, nextState) {\n//   return nextState.state.id !== this.state.id\n// }\nhandleSearchOnSubmit= value => {\n  // console.log('queryValue:', value)\n  this.setState({queryValue: value,\n    page:1, pictures:[]})\n  };\n  \ncomponentDidUpdate(prevProps, prevState) {\n  const prevValue = prevState.queryValue ;\n  const nextValue = this.state.queryValue;\n      if(prevValue !== nextValue ) {\n          // || prevState.page !== this.state.page\n          this.setState({ status: 'pending'});\n          this.renderPictures();\n  }\n}\n\nrenderPictures = () => {\n  const { page, queryValue } = this.state;\n\n  pixabayApi.fetchPictures(queryValue, page)\n    .then(response =>\n      this.setState(prevState => ({ \n          pictures: [...prevState.pictures, ...response.hits],\n          page: prevState.page + 1,\n          status: 'resolved'\n       }))\n    )\n    .catch(error => this.setState({ error,  status: 'rejected'}))\n};\n\nrender() {\n  const { pictures, error, status} = this.state;\n  // const{onOpen} = this.props\n\n  return (\n    <div className=\"App\">\n      <SearchBar onSubmit={this.handleSearchOnSubmit}/>\n      <ToastContainer autoClose={3000} />\n    \n      {status === 'idle'&& (\n        <p className=\"welcomeText\" >Input your query</p> )\n      }\n\n      {status === 'pending' && (<LoaderPend/>)  \n      }\n\n      {status === 'rejected' && (\n          <Error message={error.message}/>)\n      }\n\n      {status === 'resolved' && (\n        <>  \n          <ImageGallery \n            pictures={pictures}\n            // onOpen={this.takeLargePicture}\n          /> \n          <Button onLoadMore={this.renderPictures} />\n        </>)}\n    </div>\n  );\n  }\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__zUh9K\",\"SearchForm\":\"SearchBar_SearchForm__36KZq\",\"SearchForm__input\":\"SearchBar_SearchForm__input__3SaG-\",\"SearchForm__button\":\"SearchBar_SearchForm__button__2OE_K\",\"SearchForm__button__label\":\"SearchBar_SearchForm__button__label__LVahJ\"};"],"sourceRoot":""}