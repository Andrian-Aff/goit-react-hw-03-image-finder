{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/SearchBar.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/pixabayApi.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","queryValue","handleRequestChange","e","setState","currentTarget","value","toLowerCase","handleOnSubmit","evt","preventDefault","trim","toast","props","onSubmit","className","s","Searchbar","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","LoaderPend","color","height","width","ImageGalleryItem","onToggle","pictures","map","picture","onClick","src","webformatURL","alt","tags","ImageGalleryItem__image","largeimage","largeImageURL","id","Button","scroll","onLoadMore","console","log","scrollToBottom","Button__label","api","fetchPictures","nextValue","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","error","status","renderPictures","pixabayApi","prevState","hits","catch","prevProps","prevValue","onOpen","Loader","message","PureComponent","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","showModal","handleSearchOnSubmit","takeLargePicture","attributes","toggleModal","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aee5a986.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Msiq\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2Pd04\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__AAjqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3K96M\",\"Modal\":\"Modal_Modal__Sm9OA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1Z_8N\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\nstate = {\r\n    queryValue: '',\r\n}\r\n\r\nhandleRequestChange= e => {\r\n    this.setState({queryValue: e.currentTarget.value.toLowerCase()});\r\n};\r\n\r\nhandleOnSubmit = evt => {\r\n    evt.preventDefault();\r\n    if(this.state.queryValue.trim()==='') {\r\n        return toast('Input your request');\r\n        \r\n    }\r\n    this.props.onSubmit(this.state.queryValue);\r\n    this.setState({queryValue: ''});\r\n}\r\n\r\nrender() {\r\n    return(\r\n        <header className={s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit={this.handleOnSubmit}>\r\n                <button type=\"submit\" className={s.SearchForm__button}>\r\n                    <span className={s.SearchForm__button__label}>Search</span>\r\n                </button>\r\n                <input\r\n                className={s.SearchForm__input}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                value={this.state.queryValue}\r\n                placeholder=\"Search images and photos\"\r\n                onChange={this.handleRequestChange}\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\n}\r\n\r\nexport default SearchBar;","import Loader from \"react-loader-spinner\";\r\n\r\nconst LoaderPend = () => {\r\nreturn (\r\n    <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n  )\r\n}\r\n\r\nexport default LoaderPend\r\n\r\n","import s from './ImageGalleryItem.module.css'\r\n// import PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ onToggle, pictures }) {\r\n    return (\r\n      <>\r\n        {pictures.map(picture => {\r\n          return (\r\n            <li key={picture.id} onClick={onToggle} className={s.ImageGalleryItem} >\r\n              <img\r\n                src={picture.webformatURL}\r\n                alt={picture.tags[0]}\r\n                className={s.ImageGalleryItem__image}\r\n                largeimage={picture.largeImageURL}\r\n              />\r\n            </li>\r\n          );\r\n        })}\r\n      </>\r\n    );\r\n  };\r\n  \r\n  // ImageGalleryItem.propTypes = {\r\n  //   src: PropTypes.string.isRequired,\r\n  //   alt: PropTypes.string.isRequired,\r\n  //   largeImageUrl: PropTypes.string.isRequired,\r\n  // };\r\n","import s from './Button.module.css'\r\nimport React, { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Button extends Component {\r\n\r\n  static propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n  };\r\n\r\n  scroll = () => {\r\n    this.props.onLoadMore();\r\n    console.log(this.props.onLoadMore);\r\n    scroll.scrollToBottom();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button onClick={this.scroll} className={s.Button} type=\"button\">\r\n        <span className={s.Button__label}>Load more</span>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","const API_KEY = '23041177-0c0b450b7629b324f32016842';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nfunction fetchPictures(nextValue, page) {\r\n  const url = `${BASE_URL}?q=${nextValue}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  return fetch(url).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject( new Error(`nothing found for the your request ${nextValue}`));\r\n  });\r\n}\r\n\r\nconst api = { fetchPictures };\r\n\r\nexport default api;","import s from './ImageGallery.module.css';\r\nimport React, { PureComponent } from 'react';\r\nimport LoaderPend from \"../Loader\";\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Button from '../Button'\r\nimport pixabayApi from '../pixabayApi';\r\n\r\nexport default class ImageGallery extends PureComponent{\r\nstate = {\r\n    pictures: [],\r\n    error: null,\r\n    status: 'idle',\r\n    page:1,\r\n};\r\n\r\n\r\ncomponentDidUpdate(prevProps, prevState) {\r\n    const prevValue = prevProps.queryValue ;\r\n    const nextValue = this.props.queryValue;\r\n        if(prevValue !== nextValue) {\r\n            this.setState({ status: 'pending'});\r\n            this.renderPictures(nextValue);\r\n    }\r\n}\r\n\r\nrenderPictures = (nextValue) => {\r\n    const { page } = this.state;\r\n    // const {queryValue} = this.props.queryValue;\r\n\r\n    pixabayApi\r\n      .fetchPictures(nextValue, page)\r\n      .then(pictures =>\r\n        this.setState(prevState => ({ \r\n            pictures: [...prevState.pictures, ...pictures.hits],\r\n            status: 'resolved',\r\n            page: prevState.page + 1,\r\n         }))\r\n      )\r\n      .catch(error => this.setState({ error,  status: 'rejected'}))\r\n  };\r\n\r\n// onLoadMore = () => {\r\n//     this.setState(prevState => ({\r\n//       page: prevState.page + 1,\r\n//     }));\r\n//     this.props.handleSearchOnSubmit(this.props.queryValue);\r\n//   };\r\n\r\nrender(){\r\n    const {pictures, error, status} = this.state;\r\n    const{onOpen} = this.props\r\n\r\n    if(status === 'idle') {\r\n       return  <p>Input your query</p>  \r\n    }\r\n\r\n    if(status === 'pending') {\r\n        return <LoaderPend/>\r\n    }\r\n\r\n    if(status === 'rejected') {\r\n        return <p>Whoops, something went wrong: {error.message}</p>\r\n    }\r\n\r\n    if(status === 'resolved') {\r\n        return(\r\n            <>\r\n                <ul className={s.ImageGallery}>\r\n                    <ImageGalleryItem\r\n                        pictures={pictures}\r\n                        onToggle={onOpen}\r\n                    />\r\n                </ul>\r\n                <Button onLoadMore={this.renderPictures} />\r\n            </>\r\n        )\r\n    }\r\n    \r\n}\r\n}","import s from './Modal.module.css';\r\nimport React, {Component} from 'react';\r\nimport {createPortal} from 'react-dom'\r\n\r\nconst modalRoot = document.querySelector('#modal-root') \r\n\r\n class Modal extends Component {\r\n     \r\ncomponentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown)\r\n};\r\n\r\ncomponentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n};\r\n\r\nhandleKeyDown = e => {\r\nif(e.code === 'Escape'){\r\n this.props.onClose()\r\n}\r\n}\r\n\r\nhandleBackdropClick = e => {\r\n    if(e.currentTarget === e.target) {\r\n        this.props.onClose()\r\n    }\r\n}\r\nrender() {\r\n    return createPortal(\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={s.Modal}>\r\n                {this.props.children}\r\n            </div>\r\n        </div>, \r\n        modalRoot,\r\n    )\r\n}\r\n}\r\n\r\nexport default Modal","import './App.css';\nimport React, {PureComponent } from 'react'\n// import PropTypes from 'prop-types'\nimport { ToastContainer } from 'react-toastify';\nimport SearchBar from './components/Searchbar'\nimport ImageGallery from './components/ImageGallery'\nimport Modal from './components/Modal'\n\n\nclass App extends PureComponent {\nstate= {\n  queryValue: '',\n  showModal: false,\n  largeimage: null,\n}\n// shouldComponentUpdate(nextProps, nextState) {\n//   return nextState.state.id !== this.state.id\n// }\nhandleSearchOnSubmit= value => {\n  // console.log('queryValue:', value)\n  this.setState({queryValue: value})\n  };\n  \ntakeLargePicture = e => {\n  if (!e.target) {\n    return;\n  } else {\n    this.setState({\n      largeimage: e.target.attributes['largeimage'].value\n    });\n  }\n  this.toggleModal();\n};\n\ntoggleModal = () => {\n  this.setState(({ showModal }) => ({\n    showModal: !showModal,\n  }));\n};\n\nrender() {\n  const {queryValue, showModal, largeimage} = this.state\n  return (\n    <div className=\"App\">\n    <SearchBar onSubmit={this.handleSearchOnSubmit}/>\n    <ToastContainer autoClose={3000} />\n    <ImageGallery \n      queryValue={queryValue}\n      onOpen={this.takeLargePicture}\n    /> \n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeimage} alt={queryValue} />\n          </Modal>)\n        }\n    </div>\n  );\n}\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__zUh9K\",\"SearchForm\":\"SearchBar_SearchForm__36KZq\",\"SearchForm__input\":\"SearchBar_SearchForm__input__3SaG-\",\"SearchForm__button\":\"SearchBar_SearchForm__button__2OE_K\",\"SearchForm__button__label\":\"SearchBar_SearchForm__button__label__LVahJ\"};"],"sourceRoot":""}